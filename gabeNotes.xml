<?xml version="1.0" encoding="utf-8"?>

<topics xmlns:r="http://www.r-project.org" 
	xmlns:sh="http://www.shell.org">

<topic>
<title> Output from Code Snips in Paper </title>

<item>
I'm not sure how to format the xincludes so that we can dynamically insert 
output (eg length calls in Example 3 of the paper). Should talk to Duncan.

Currently I have added eval=false to these r:code elements, but some were ambiguous where 
the r:code element contained more than just the length call, eg:
<subitem>
<r:code>
mapStateNames = map("state", namesonly = TRUE, plot = FALSE)
length(mapStateNames)
</r:code>
</subitem>
<subitem>
<r:code>
doc = svgPlot(plot(hbin, main = "Loop Detector on I-5"))

reg = getPlotRegionNodes(doc)
sapply(reg, xmlSize)
</r:code>
</subitem>
This is an issue because the mapStateNames line IS in the R file, while the length call is not.


</item>
</topic>

<topic>
<title> Calls to invisible() in Actual Code </title>

<item>
In the KNN code, the sapply calls are surrounded by calls to invisible(),
which do not appear in the code of the paper. Its not clear we can cleanly
deal with this in the current model. Get rid of the invisible calls? Is there,
or should there be, an xml/r:code node option we can use here?
</item>

</topic>

<topic>
<title> Some code needs CDATA around it </title>

<item>
Some code has brackets or ampersands in it, and needs to be surrounded
by a CDATA tag
</item>

<topic>
<title> Graphviz Example File Missing </title>

<item>
I have not been able to find the code from the paper in Example 8 (graphviz). It
doesn't seem to be in any of the R or xml files
</item>
</topic>
<topic> 
<title> Small Edits to be Confirmed </title>
<item>
I added an ending quote inside the xp:code node at/around line 1567, originally only the 
beginning quotation mark appeared.
</item>
</topic>
<topic>
<title> Code in Paper and R files Does Not Match in Lattice Example </title>

<item status="unresolved">
As far as I can tell, some of the code in Example 6 does not appear in any R files
in the tests directory. Specifically the line 

nodes = nodes[-(1:(length(nodes) - length(unique(cars$gear))))]

seems to be missing.
</item>

<item status="unresolved">
There is also code in example 8, the Graphviz example, that does not appear in any
R files in the tests directory. It is:

layout2pi = agopen(g1, layoutType = "twopi", name = "bob")
</item>
<item status="unresolved">
The code cited in example 11 appears to be equivalent to code in exLinkedSmoother.R,
but is not the same. Eg, svg in the paper seems to correspond to svgRoot in the file, and 
a variable called onl is created to hold what is passed to onload in the addSlider call.

There is also a call to enlargeSVGViewBox that does not occur in the paper, but appears to
need to be between the definition of svgRoot and the addSlider call. I will wait and see
what Deborah and Duncan want me to do here.
</item>
</topic>
<topic>
<title> Where should the grahpics be being grabbed from?</title>
<item>
Its not clear whether I should change the graphic/dyngrahpic refs in SVGAnnotationPaper.xml
to point to things in the tests or tests/XML directory or leave them as is.
</item>
</topic>
<topic>
<title> Election Table Example Contains Only Function Definitions </title>
<item>
The file exStateElectionTable.R contains only function definitions. All the stand alone code
is contained within if (FALSE) blocks. I'm not sure what, if anything, I should do with this 
in terms of migration to the XML folder, etc.
</item>
</topic>
<topic>
<title> Example 14 (Communicating Between HTML, SVG) </title>
<item>
There is an ex---.R file for this example, but it has not been cleaned up, ie
it contains an if (FALSE) block, and there is a comment that indicates that it 
may not be fully functional, I will check this.

Anyway, I'm not sure if this should get the r:makePlot treatment, as the code is not
currently presentable, etc.
</item>
</topic>
<topic>
<title> Image Mismatch in Hexbin Tooltips example </title>
<item>
In the preliminary examples section of the paper, the static image is loop detector on I-5, whereas
the dynamic graphic (generated by the provided code) is loop detector #313111 on I-80, and the
images are subtly different, though obviously of the same type.
</item>
</topic>
<topic>
<title> svg:code doesn't have related xsl </title>
<item>
As above. Need to create a template/transformation for svg:code so that it displays properly in
pdfs and html pages.
</item>
</topic>
<topic>
<title> Should we rename some of the data.frames used in the tests? </title>
<item> We have decided to make all the data available in the package, but we 
may want to change the names of some of the data frames (such as states in the
election2008 data). Also, currently all the election 2008 data is in election2008.rda
instead of in individual files for each data frame. We may want to change that.
</item>
</topic>
</topics>
